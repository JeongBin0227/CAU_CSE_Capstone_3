{% extends 'base.html' %}

{% load staticfiles %}

{% block extra-style %}
<style>
    * {
        margin: 0px;
        padding: 0px;
    }

    .big-category-tab {
        font-size: 14px;
        height: 20%;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0px;
        border-bottom: 2px solid gray;
        border-left: 2px solid gray;
    }

    .small-category-tab {
        font-size: 14px;
        height: 65px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 0px;
        border-bottom: 2px solid pink;
        border-left: 2px solid pink;
    }

    .big-category-tab:hover {
        font-size: 15px;
        font-weight: bold;
        background-color: gray;
        color: white;
    }

    .small-category-tab:hover {
        font-size: 15px;
        font-weight: bold;
        background-color: pink;
    }

    .small-category-tab {
        border-right: 2px solid pink;
    }

    .big-category-wrapper>.big-category-tab:first-child,
    .small-category-wrapper>.small-category-tab:first-child {
        border-top: 2px solid pink;
    }

    .triangle-wrapper {
        height: 65px;
    }

    .triangle {
        position: relative;
        top: 22.5px;
        height: 15px;
        width: 0;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
        border-left: 15px solid pink;
        display: none;
    }
</style>
{% endblock extra-style %}

{% block navbar%}
{% include 'navbar.html' %}
{% endblock %}

{% block content %}
<div class="container-fluid" id="app">
    <div class="row">
        <div class="col-2 p-0">
            <div class="row m-0">
                <div class="col-2"></div>
                <div class="col-3 p-0 big-category-wrapper">
                    <div class="row big-category-tab text-center">내<br />화장품</div>
                    <div class="row big-category-tab text-center">관심<br />화장품</div>
                    <div v-for="bigCategory in bigCategories" :key="bigCategory.id" v-html="bigCategory.name"
                        class="row big-category-tab text-center">
                    </div>
                </div>
                <div class="col-6 p-0 small-category-wrapper">
                    <div v-for="smallCategory in smallCategories" :key="smallCategory.id" v-html="smallCategory.name"
                        class="row small-category-tab text-center">
                    </div>
                </div>
                <div class="col-1 p-0 small-category-wrapper">
                    <div v-for="smallCategory in smallCategories" :key="smallCategory.id"
                        class="row triangle-wrapper m-0 p-0">
                        <div class="triangle"></div>
                    </div>
                </div>
            </div>

        </div>
        <div class="col-5">

        </div>
        <div class="col-5">
            <div class="row">
                장바구니
            </div>
        </div>
    </div>
</div>
{% endblock content %}

{% block footer %}
{% include 'footer.html' %}
{% endblock footer %}

{% block extra-script %}
<script src="https://unpkg.com/vue/dist/vue.min.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    axios.defaults.xsrfCookieName = 'csrftoken';
    axios.defaults.xsrfHeaderName = 'X-CSRFToken';

    var vm = new Vue({
        delimiters: ['[[', ']]'],
        el: '#app',
        data: {
            bigCategories: [{
                id: 1,
                name: '기초'
            },
            {
                id: 2,
                name: '베이스'
            },
            {
                id: 3,
                name: '색조'
            }],
            smallCategories: [{
                id: 1,
                name: '립스틱'
            },
            {
                id: 2,
                name: '립밤'
            },
            {
                id: 3,
                name: '립틴트'
            },
            {
                id: 4,
                name: '마스카라'
            },
            {
                id: 5,
                name: '하이라이터'
            },
            {
                id: 6,
                name: '픽서/영양제'
            },
            {
                id: 7,
                name: '아이브로우<br/>파우더'
            }]
        },
        methods: {

        },
        created() {
            axios.get('/api/cosmetic/bigcategory/')
                .then((res) => {
                    console.log("GET SUCCESS", res);
                    const data = res.data;

                    for (var i in data)
                        this.myCosmetics.push(cosmeticInsert(data[i]))
                })
                .catch(function (err) {
                    console.log("GET FAIL", err);
                });
        }
    })
</script>
{% endblock extra-script %}